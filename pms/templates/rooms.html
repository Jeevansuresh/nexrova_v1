{% extends "base.html" %}

{% block title %}Rooms - Chennai BnB PMS{% endblock %}

{% block content %}
<h1 style="margin-bottom: 2rem;">Room Management</h1>

<div class="card">
    <h2 style="margin-bottom: 1.5rem;">All Rooms ({{ rooms|length }})</h2>

    <div class="room-grid">
        {% for room in rooms %}
        <div class="room-card" style="{% if room.status == 'occupied' %}border-left: 4px solid #f39c12;{% elif room.status == 'maintenance' %}border-left: 4px solid #e74c3c;{% else %}border-left: 4px solid #27ae60;{% endif %}">
            <h3>Room {{ room.room_number }}</h3>
            <div class="room-info">
                <p><strong>Type:</strong> {{ room.room_type }}</p>
                <p><strong>Floor:</strong> {{ room.floor }}</p>
                <p>
                    <strong>Status:</strong>
                    {% if room.status == 'available' %}
                    <span class="badge badge-success">Available</span>
                    {% elif room.status == 'occupied' %}
                    <span class="badge badge-warning">Occupied</span>
                    {% else %}
                    <span class="badge badge-danger">Maintenance</span>
                    {% endif %}
                </p>
                <p><strong>Price:</strong> â‚¹{{ room.base_price }}/night</p>

                {% if room.current_guest %}
                <div style="margin-top: 1rem; padding: 1rem; background: #fff3cd; border-radius: 5px; border-left: 3px solid #f39c12;">
                    <p style="margin: 0; font-weight: bold; color: #856404;">ðŸ‘¤ Current Guest</p>
                    <p style="margin: 0.5rem 0 0 0; color: #856404;">
                        <strong>{{ room.current_guest.name }}</strong><br>
                        {{ room.current_guest.email }}<br>
                        {{ room.current_guest.phone }}<br>
                        <small>Check-in: {{ room.current_guest.check_in }}</small><br>
                        <small>Check-out: {{ room.current_guest.check_out }}</small><br>
                        <small>Booking #{{ room.current_guest.booking_id }}</small>
                    </p>
                </div>
                {% endif %}

                <p style="margin-top: 0.5rem;"><strong>Amenities:</strong> {{ room.amenities|join(', ') }}</p>
            </div>

            <div class="room-actions">
                <a href="/rooms/edit/{{ room.room_id }}" class="btn btn-small">
                    Edit Room
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="card">
    <h2 style="margin-bottom: 1rem;">Room Types & Default Pricing</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;">
        <div style="padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
            <h3 style="color: #3498db;">Deluxe</h3>
            <p style="font-size: 1.5rem; margin: 0.5rem 0;">â‚¹3,500</p>
            <p style="color: #666;">per night (default)</p>
        </div>

        <div style="padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #9b59b6;">
            <h3 style="color: #9b59b6;">Premium</h3>
            <p style="font-size: 1.5rem; margin: 0.5rem 0;">â‚¹4,500</p>
            <p style="color: #666;">per night (default)</p>
        </div>

        <div style="padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #e67e22;">
            <h3 style="color: #e67e22;">Suite</h3>
            <p style="font-size: 1.5rem; margin: 0.5rem 0;">â‚¹6,000</p>
            <p style="color: #666;">per night (default)</p>
        </div>

        <div style="padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #e74c3c;">
            <h3 style="color: #e74c3c;">Executive Suite</h3>
            <p style="font-size: 1.5rem; margin: 0.5rem 0;">â‚¹7,500</p>
            <p style="color: #666;">per night (default)</p>
        </div>
    </div>
    <p style="margin-top: 1rem; color: #666; font-style: italic;">
        Note: You can customize individual room prices using the "Edit Room" button
    </p>
</div>
{% endblock %}
